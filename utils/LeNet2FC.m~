function W3 = LeNet2FC(W,type)

switch type
    case 'av'
W2{1} = conv2fc(W{1},28+4,28+4,1,0);
P2{1} = pool2fc(2,6,28,2);
W2{2} = conv2fc(W{2},14,14,1,0);
P2{2} = pool2fc(2,16,10,2);
W2{3} = W{3};
W2{4} = W{4};
W2{5} = W{5};

W3{1} = W2{1};
W3{2} = W2{2}*P2{1};
W3{3} = W2{3}*P2{2};
W3{4} = W2{4};
W3{5} = W2{5};

    case 'max'
    W2{1} = conv2fc(W{1},28+4,28+4,1,0);
P2{1} = pool2fc(2,6,28,2);
W2{2} = conv2fc(W{2},14,14,1,0);
P2{2} = pool2fc(2,16,10,2);
W2{3} = W{3};
W2{4} = W{4};
W2{5} = W{5};

W3{1} = W2{1};
W3{2} = W2{2}*P2{1};
W3{3} = W2{3}*P2{2};
W3{4} = W2{4};
W3{5} = W2{5};    
        
end